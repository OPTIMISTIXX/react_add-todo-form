(this["webpackJsonpreact_add-todo-form"]=this["webpackJsonpreact_add-todo-form"]||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(6),i=n.n(a),r=n(8),o=n(2),s=(n(13),n(1)),c=[{id:1,name:"Leanne Graham",username:"Bret",email:"Sincere@april.biz"},{id:2,name:"Ervin Howell",username:"Antonette",email:"Shanna@melissa.tv"},{id:3,name:"Clementine Bauch",username:"Samantha",email:"Nathan@yesenia.net"},{id:4,name:"Patricia Lebsack",username:"Karianne",email:"Julianne.OConner@kory.org"},{id:5,name:"Chelsey Dietrich",username:"Kamren",email:"Lucio_Hettinger@annie.ca"},{id:6,name:"Mrs. Dennis Schulist",username:"Leopoldo_Corkery",email:"Karley_Dach@jasper.info"},{id:7,name:"Kurtis Weissnat",username:"Elwyn.Skiles",email:"Telly.Hoeger@billy.biz"},{id:8,name:"Nicholas Runolfsdottir V",username:"Maxime_Nienow",email:"Sherwood@rosamond.me"},{id:9,name:"Glenna Reichert",username:"Delphine",email:"Chaim_McDermott@dana.io"},{id:10,name:"Clementina DuBuque",username:"Moriah.Stanton",email:"Rey.Padberg@karina.biz"}],l=[{id:1,title:"delectus aut autem",completed:!0,userId:1},{id:15,title:"some other todo",completed:!1,userId:1},{id:2,title:"quis ut nam facilis et officia qui",completed:!1,userId:4}],d=n(7),u=n.n(d),m=n(0),h=function(e){var t=e.postWithUser;return Object(m.jsx)("section",{className:"TodoList",children:t.map((function(e){var t=e.todo,n=e.foundUser;return Object(m.jsxs)("article",{"data-id":"1",className:u()("TodoInfo",{"TodoInfo--completed":t.completed}),children:[Object(m.jsx)("h2",{className:"TodoInfo__title",children:t.title}),n&&Object(m.jsx)("a",{className:"UserInfo",href:"mailto:".concat(n.email),children:n.name},t.userId)]})}))})},j=function(e){var t=e.handleSubmit,n=e.handlePersonChange,a=e.handleTitleChange,i=e.handleSubmitWithErrors,r=e.title,l=e.personValue,d=Object(s.useState)(!1),u=Object(o.a)(d,2),h=u[0],j=u[1],b=Object(s.useState)(!1),f=Object(o.a)(b,2),p=f[0],O=f[1];return Object(m.jsxs)("form",{action:"/api/todos",method:"POST",onSubmit:!1===h&&!1===p?t:i,children:[Object(m.jsxs)("div",{className:"field",children:[Object(m.jsx)("input",{type:"text","data-cy":"titleInput",placeholder:"Enter a title",value:r,onChange:a}),!0!==h||0!==r.length&&r.trim()?"":Object(m.jsx)("span",{className:"error",children:"Enter a title"})]}),Object(m.jsxs)("div",{className:"field",children:[Object(m.jsxs)("select",{"data-cy":"userSelect",value:l,onChange:n,children:[Object(m.jsx)("option",{value:"",disabled:!0,children:"Choose a user"}),c.map((function(e){return Object(m.jsx)("option",{value:e.name,children:e.name},e.id)}))]}),!0===p&&""===l?Object(m.jsx)("span",{className:"error",children:"Choose a user"}):""]}),Object(m.jsx)("button",{type:"submit","data-cy":"submitButton",onClick:function(){0!==r.length&&r.trim()?j(!1):j(!0),O(""===l)},children:"Add"})]})},b=function(){var e=Object(s.useState)(l),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)(""),d=Object(o.a)(i,2),u=d[0],b=d[1],f=Object(s.useState)(""),p=Object(o.a)(f,2),O=p[0],v=p[1],x=n.map((function(e){var t=c.find((function(t){return t.id===e.userId}));return{todo:e,foundUser:t}}));return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("h1",{children:"Add todo form"}),Object(m.jsx)(j,{handleSubmit:function(e){e.preventDefault(),function(){var e=c.find((function(e){return e.name===u}));if(e&&O.trim()){var t={completed:!1,id:c.length+1,title:O,userId:e.id};a((function(e){return[].concat(Object(r.a)(e),[t])}))}}(),v(""),b("")},handleSubmitWithErrors:function(e){e.preventDefault()},handlePersonChange:function(e){b(e.target.value)},handleTitleChange:function(e){v(e.target.value)},title:O,personValue:u}),Object(m.jsx)(h,{postWithUser:x})]})};i.a.render(Object(m.jsx)(b,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.34358ad3.chunk.js.map